#*
 * Project Ginger Base
 *
 * Copyright IBM Corp, 2015-2016
 *
 * Code derived from Project Kimchi
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *#

#unicode UTF-8
#import gettext
#from wok.cachebust import href
#silent t = gettext.translation($lang.domain, $lang.localedir, languages=$lang.lang, fallback=True)
#silent _ = t.gettext
#silent _t = t.gettext
<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="plugins/gingerbase/css/gingerbase.css">
<script src="plugins/gingerbase/js/gingerbase.min.js"></script>
</head>
<body>
<div id="host-root-container">
<nav class="navbar navbar-default toolbar">
  <div class="container">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#toolbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="toolbar">
    </div>
  </div>
</nav>
    <div id="host-content-container" class="empty-when-logged-off"></div>
    <div class="host-panel">

    <div class="container">
        <div  id="host-info-container" class="row">
            <span id='message-container-area' style='display: none;'></span>
            <div id="repositories-section" class="col-md-12 hidden"></div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="wok-mask" style="top: 0 !important; z-index:4;">
                    <div class="wok-mask-loader-container">
                        <div class="wok-mask-loading">
                            <div class="wok-mask-loading-icon"></div>
                            <div class="wok-mask-loading-text">$_("Loading...")</div>
                        </div>
                    </div>
                </div>
        <h3 style="font-size: 21.5pt; margin-top: 0; margin-bottom: 15px; color: inherit;">Software Updates</h3>
        <div>
            <button id="update-packages" class="btn btn-primary" data-search="" style="margin-bottom: 15px;" disabled>$_('Update')</button>
            <button id="update-all-packages" class="btn btn-primary" data-search="" style="margin-bottom: 15px;">$_('Update All')</button>
        </div>

        <div class="panel-group accordion" id="update-accordion" role="tablist" aria-multiselectable="true" hidden>
                <h3>
                    <a role="button" data-toggle="collapse" data-parent="#updates-accordion" href="#updates-content-area" aria-expanded="false" aria-controls="updates-content-area" class="">
                        <span class="accordion-icon"></span><span class="accordion-text">$_("Update Status")</span>
                    </a>
                </h3>

                <div id="updates-content-area" class="panel-collapse collapse in"  role="tabpanel">
                        <div class="row grid-control">
                                <div class="update-alter">
                                    <div class="update-inner">
                                        <textarea class="collapse in" id="software-updates-progress-textarea" readonly></textarea>
                                    </div>
                                </div>
                        </div>
                </div>
        </div>
        <table id="grid-basic" class="table table-condensed table-hover table-striped">
            <thead>
                <tr>
                    <th data-column-id="package_name" data-identifier="true">$_("Package Name")</th>
                    <th data-column-id="status">$_("Status")</th>
                    <th data-column-id="version">$_("Version")</th>
                    <th data-column-id="arch">$_("Arch")</th>
                    <th data-column-id="repository">$_("Repository")</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </div>
</div>
</div>

</div>
</div>

<script id="host-update-tmpl" type="gingerbase/template">
<div class="host-panel">
    <div class="container">
        <div  id="host-info-container" class="row">
            <div id="repositories-section" class="col-md-12 hidden"></div>
        </div>
    </div>
</div>
</script>
<div id="modalWindow" class="modal fade host-modal" tabindex="-1" role="dialog" aria-labelledby="hostsModalLabel" aria-hidden="true">
</div>
<script type="text/javascript">
    gingerbase.host_update();
</script>
</body>
</html>
